{% extends "base.html" %}
{% block title %}Dashboard â€“ Uknowme{% endblock %}

{% block content %}
<div class="dashboard-page">
  <div class="card shadow-sm mb-4 dashboard-hero">
    <div class="card-body">
      <div class="dashboard-hero-head">
        <h4 class="fw-bold mb-1 dashboard-title">Your Anonymous Inbox</h4>
        <p class="text-muted mb-0 dashboard-subtitle">
          Share your link to receive honest anonymous feedback.
        </p>
      </div>
      <input class="form-control mt-3" readonly value="{{ inbox_link }}">
    </div>
  </div>

  <!-- CONTENT FIRST (required by AdSense) -->
  <div class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="fw-bold mb-3">Messages</h5>

      {% if messages %}
        {% for msg in messages %}
          <div class="border rounded p-3 mb-2">
            <p class="mb-1">{{ msg.text }}</p>
            <small class="text-muted">{{ msg.created_at.strftime('%d %b %Y') }}</small>
          </div>
        {% endfor %}
      {% else %}
        <p class="text-muted">No messages yet.</p>
      {% endif %}
    </div>
  </div>

  <!-- ADS AFTER CONTENT -->
  <div class="card shadow-sm">
    <div class="card-body text-center">
      <script async
        src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9988420021358515"
        crossorigin="anonymous"></script>

      <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-9988420021358515"
        data-ad-slot="1234567890"
        data-ad-format="auto"
        data-full-width-responsive="true"></ins>

      <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
  </div>
</div>
{% endblock %}
